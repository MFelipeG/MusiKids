<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Letrinhas - MusiKids Fun</title>
<style>
  body {
    margin: 0; padding: 0;
    font-family: 'Baloo 2', cursive, Arial, sans-serif;
    background: linear-gradient(135deg, #e9f5be 0%, #ffc9de 100%);
    user-select: none;
    color: #222;
    min-height: 100vh;
    text-align: center;
  }
  header {
    font-size: 2rem;
    font-weight: 900;
    color: #ff81a7;
    margin-bottom: 0.5rem;
    text-shadow: 1px 1px 3px #f06292;
    background: #fff9e3;
    padding: 13px 0 11px 0;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 20px;
    margin-bottom: 24px;
  }
  #btn-menu {
    position: fixed;
    top: 16px; left: 16px;
    background: #b3dc6d;
    color: #334c06;
    border: none;
    padding: 10px 18px;
    font-weight: 800;
    font-size: 1.14rem;
    border-radius: 18px;
    cursor: pointer;
    box-shadow: 0 5px 16px #b3dc6d44;
    z-index: 1000;
    transition: background-color .2s;
  }
  #btn-menu:hover {
    background: #8ab442;
    color: #fff;
  }
  #main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  #instrucao {
    margin-top: 10px;
    color: #fa1899;
    font-size: 1.15rem;
    margin-bottom: 20px;
    font-weight: 600;
  }
  #palavra-atual {
    font-size: 1.7rem;
    font-weight: 700;
    color: #288b49;
    background: #fffde0;
    border-radius: 14px;
    padding: 12px 42px;
    margin-bottom: 14px;
    box-shadow: 2px 6px 15px #9be58a27;
  }
  #caixa-letras {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 35px;
    min-height: 48px;
  }
  .letra-drag {
    background: linear-gradient(135deg,#ff82b2 40%, #d4f778 100%);
    color: #222;
    padding: 8px 24px;
    font-size: 1.2rem;
    border-radius: 14px;
    font-weight: 700;
    cursor: grab;
    border: 2px solid #fff;
    box-shadow: 0 4px 16px #f3487d22;
    margin-bottom: 5px;
    user-select: none;
    transition: background 0.15s;
  }
  .letra-drag.dragging {
    opacity: .4;
    background: #fff8f4;
  }
  #slots-palavra {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-bottom: 16px;
  }
  .slot-letra {
    width: 39px;
    height: 39px;
    background: #fff3fa;
    border-radius: 11px;
    border: 2px dashed #fa1899;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    color: #288b49;
    margin-bottom: 2px;
    transition: border-color 0.15s, background 0.12s;
  }
  .slot-letra.over {
    border-color: #ffd600;
    background: #fffde0;
  }
  #next-btn {
    background: #ff81a7;
    color: #244c43;
    border: none;
    border-radius: 17px;
    padding: 11px 36px;
    font-size: 1rem;
    font-weight: 700;
    margin-top: 16px;
    cursor: pointer;
    box-shadow: 0 4px 12px #f3487d33;
    display: none;
  }
  #next-btn:active {
    background: #ef568a;
    color: #fff;
  }
  #resultado {
    font-size: 1.5rem;
    font-weight: 800;
    margin-top: 10px;
    color: #9631e6;
    min-height: 38px;
  }
</style>
</head>
<body>
<header>Letrinhas - MusiKids Fun</header>
<button id="btn-menu" onclick="window.location.href='../index.html'">MENU DE JOGOS</button>
<div id="main-container">
  <div id="instrucao">Arraste as letras para formar a palavra!</div>
  <div id="palavra-atual"></div>
  <div id="slots-palavra"></div>
  <div id="caixa-letras"></div>
  <button id="next-btn">Próxima palavra</button>
  <div id="resultado"></div>
</div>
<script>
  const palavras = [
    "SOPA", "SAPO", "PATO", "GATO", "CORA", "TERRA",
    "FADA", "SOL", "LAGO", "ROSA", "MESA", "BOLA"
    // acrescente mais aqui para aumentar a lista posteriormente!
  ];

  let indice = 0;
  let letrasRestantes = [];
  let slots = [];
  let draggingIdx = null;

  function embaralha(palavra) {
    return palavra.split('').sort(() => Math.random() - 0.5);
  }

  function mostraPalavra() {
    document.getElementById('palavra-atual').innerText = palavras[indice];
    montaSlots(palavras[indice]);
    montaCaixaLetras(palavras[indice]);
    document.getElementById('resultado').innerText = "";
    document.getElementById('next-btn').style.display = "none";
  }

  function montaSlots(palavra) {
    const container = document.getElementById('slots-palavra');
    container.innerHTML = "";
    slots = [];
    for(let i=0; i<palavra.length; i++) {
      const slot = document.createElement('div');
      slot.className = "slot-letra";
      slot.dataset.index = i;
      slot.addEventListener('dragover', (e) => {
        e.preventDefault(); slot.classList.add("over");
      });
      slot.addEventListener('dragleave', (e) => slot.classList.remove("over"));
      slot.addEventListener('drop', (e) => {
        e.preventDefault();
        slot.classList.remove("over");
        const letra = letrasRestantes[draggingIdx];
        if (!slot.innerText && letra) {
          slot.innerText = letra;
          letrasRestantes[draggingIdx] = null;
          atualizaCaixaLetras();
          verificaAcertoOuErro();
        }
      });
      slots.push(slot);
      container.appendChild(slot);
    }
  }

  function montaCaixaLetras(palavra) {
    letrasRestantes = embaralha(palavra);
    atualizaCaixaLetras();
  }

  function atualizaCaixaLetras() {
    const container = document.getElementById('caixa-letras');
    container.innerHTML = '';
    letrasRestantes.forEach((letra, idx) => {
      if (letra) {
        const b = document.createElement('div');
        b.className = "letra-drag";
        b.innerText = letra;
        b.draggable = true;
        b.addEventListener('dragstart', () => {
          draggingIdx = idx;
          b.classList.add('dragging');
        });
        b.addEventListener('dragend', () => {
          b.classList.remove('dragging'); draggingIdx = null;
        });
        container.appendChild(b);
      }
    });
  }

  function verificaAcertoOuErro() {
    // Só chama quando todos os slots estão com letra
    if (slots.every(slot => slot.innerText)) {
      let correta = slots.map((slot, i) => slot.innerText === palavras[indice][i]).every(x => x);
      if (correta) {
        document.getElementById('resultado').innerText = "Parabéns! Você acertou!";
        document.getElementById('next-btn').style.display = "inline-block";
      } else {
        document.getElementById('resultado').innerText = "Tente novamente!";
        document.getElementById('next-btn').style.display = "none";
      }
    } else {
      document.getElementById('resultado').innerText = "";
      document.getElementById('next-btn').style.display = "none";
    }
  }

  document.getElementById('next-btn').onclick = () => {
    indice = (indice+1) % palavras.length;
    mostraPalavra();
  };

  // inicialização
  mostraPalavra();
</script>
</body>
</html>
