<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Musikids Hub</title>
  <style>
    body {
      margin: 0;
      font-family: 'Comic Sans MS', 'Baloo', 'Arial', sans-serif;
      background: #f7f9fc;
      color: #333;
      text-align: center;
    }
    header {
      background: linear-gradient(90deg, #ff6b6b 60%, #f0e130 100%);
      padding: 1rem;
      color: white;
      font-size: 1.6rem;
      font-weight: bold;
      letter-spacing: .03em;
      text-shadow: 2px 2px 6px #d88;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 1rem 0;
    }
    nav button {
      padding: 0.6rem 1rem;
      border: none;
      border-radius: 12px;
      background: #4dabf7;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s, transform 0.2s;
      font-family: inherit;
      box-shadow: 1px 3px 8px #c8e6ff6e;
    }
    nav button:hover, nav button.active {
      background: #339af0;
      transform: scale(1.07);
    }
    section {
      display: none;
      padding: 1rem;
    }
    section.active {
      display: block;
    }
    .card {
      background: #fff;
      padding: 1.2rem;
      border-radius: 16px;
      margin: 1.5rem auto;
      width: 92%;
      max-width: 440px;
      box-shadow: 0 3px 10px rgba(50,100,200,0.09);
      font-family: inherit;
    }
    /* Estilo infantil para jogos */
    .jogo-titulo {
      font-size: 1.3rem;
      color: #f5921b;
      margin-bottom: .7rem;
      letter-spacing: .02em;
    }
    .jogo-letras, .jogo-contas {
      background: #f7f6d2;
      border-radius: 12px;
      padding: 0.8rem;
      margin: 10px 0 18px 0;
      min-height: 70px;
    }
    .letras-btn {
      padding: .44rem .85rem;
      margin: 0 .3rem .7rem .3rem;
      border: none;
      background: #5ee978;
      color: #275031;
      font-size: 1.25rem;
      font-family: inherit;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s, transform .15s;
    }
    .letras-btn:hover {
      background: #07c875;
      color: #fff;
      transform: scale(1.14);
    }
    .letras-slot {
      display: inline-block;
      min-width: 28px;
      min-height: 38px;
      font-size: 1.35rem;
      margin: 0 4px;
      border-bottom: 2px solid #ccc;
    }
    .correto {
      color: #32a852;
      font-weight: bold;
      font-size: 1.2rem;
      margin: .9rem 0 0 0;
    }
    .errado {
      color: #ea5454;
      font-weight: bold;
      font-size: 1.2rem;
      margin: .9rem 0 0 0;
    }
    .conta-pergunta {
      font-size: 1.15rem;
      margin-bottom: 6px;
      color: #1565c0;
    }
    .conta-opcoes {
      display: flex;
      justify-content: center;
      gap: 0.8rem;
      margin-bottom: 0.3rem;
      flex-wrap: wrap;
    }
    .conta-btn {
      padding: .54rem .9rem;
      margin-top: .17rem;
      border: none;
      background: #ffd23f;
      color: #514511;
      font-size: 1.1rem;
      font-family: inherit;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.15s, transform .14s;
    }
    .conta-btn:hover {
      background: #f2ae2e;
      color: #fff;
      transform: scale(1.14);
    }
    .mascote {
      font-size: 1.85rem;
      margin-bottom: .5rem;
      display: block;
    }
    #dica-texto {
      margin-top: 8px;
      font-style: italic;
      color: #4a4a4a;
    }
    #contas-personalizadas {
      margin-top: 15px;
      padding: 10px;
      background: #e6f7ff;
      border-radius: 10px;
      font-size: 1rem;
      color: #073763;
      box-shadow: inset 0 0 8px #b3d9ff;
    }
    input[type="number"], select {
      padding: 0.4rem 0.6rem;
      margin: 0 .2rem 0 .2rem;
      font-size: 1.05rem;
      border-radius: 6px;
      border: 2px solid #5ee978;
      width: 60px;
      text-align: center;
      outline:none;
    }
    input[type="number"]:focus, select:focus {
      border-color: #07c875;
    }
    #btn-resolver-personalizado {
      background: #5ee978;
      color: #275031;
      font-weight: bold;
      padding: 0.55rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      border: none;
      font-size: 1.1rem;
      margin-left: 8px;
      transition: background 0.25s ease;
    }
    #btn-resolver-personalizado:hover {
      background: #07c875;
      color: white;
      transform: scale(1.08);
    }
  </style>
</head>
<body>
  <header>üéµ Musikids Hub</header>
  <nav>
    <button onclick="showTab('home')" class="active">In√≠cio</button>
    <button onclick="showTab('games')">Jogos</button>
    <button onclick="showTab('music')">M√∫sicas</button>
    <button onclick="showTab('stories')">Hist√≥rias</button>
  </nav>
  <section id="home" class="active">
    <div class="card">
      <span class="mascote">ü¶äüêíüêò</span>
      <h2>Bem-vindo ao Musikids üéâ</h2>
      <p>Aqui as crian√ßas aprendem brincando!</p>
      <p style="font-size:1rem">Descubra jogos, m√∫sicas e hist√≥rias!</p>
    </div>
  </section>
  <section id="games">
    <div class="card">
      <h2>Jogos Educativos üéÆ</h2>
      <!-- Jogo das Letras -->
      <div>
        <div class="jogo-titulo">Jogo das Letras ‚úèÔ∏è</div>
        <div id="letras-jogo" class="jogo-letras"></div>
        <div id="letras-botoes"></div>
        <button onclick="mostrarDica()" class="conta-btn" style="background:#339af0;">Mostrar Dica</button>
        <div id="dica-texto"></div>
        <div id="letras-mensagem"></div>
        <button onclick="iniciaJogoLetras()" style="margin-top:.9rem;background:#ffd23f;" class="conta-btn">Novo Jogo</button>
      </div>
      <hr style="margin:2.1rem 0 2.1rem 0;border:dashed #f7ac9b 1.5px;">
      <!-- Jogo das Continhas -->
      <div>
        <div class="jogo-titulo">Jogo das Continhas ‚ûï</div>
        <div class="jogo-contas">
          <div id="conta-pergunta" class="conta-pergunta"></div>
          <div id="conta-opcoes" class="conta-opcoes"></div>
          <div id="conta-mensagem"></div>
        </div>
        <button onclick="novaConta()" style="background:#5ee978;" class="conta-btn">Nova Conta</button>
        <div id="contas-personalizadas">
          <h3>Conta Personalizada</h3>
          <label for="num1">N√∫mero 1:</label>
          <input type="number" id="num1" min="0" max="100" />
          <select id="operacao-personalizada">
            <option value="+">+</option>
            <option value="-">-</option>
            <option value="*">x</option>
            <option value="/">√∑</option>
          </select>
          <label for="num2">N√∫mero 2:</label>
          <input type="number" id="num2" min="0" max="100" />
          <button id="btn-resolver-personalizado" onclick="resolverContaPersonalizada()">Resolver</button>
          <div id="resultado-personalizado" style="margin-top:10px;font-weight:bold;"></div>
        </div>
      </div>
    </div>
  </section>
  <section id="music">
    <div class="card">
      <h2>M√∫sicas üé∂</h2>
      <audio controls>
        <source src="musica.mp3" type="audio/mpeg">
        Seu navegador n√£o suporta √°udio.
      </audio>
      <p style="font-size:.97rem;margin-top:.2rem">Envie suas m√∫sicas favoritas para adicionar aqui!</p>
    </div>
  </section>
  <section id="stories">
    <div class="card">
      <h2>Hist√≥rias üìö</h2>
      <a href="historinha.pdf" target="_blank">üìñ Ler historinha</a>
      <p style="font-size:.93rem;">Mais livros em PDF em breve!</p>
    </div>
  </section>
  <script>
    // TAB navigation
    function showTab(tabId) {
      document.querySelectorAll("nav button").forEach(btn => btn.classList.remove("active"));
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(tabId).classList.add("active");
      document.querySelectorAll("nav button").forEach((btn, idx) => {
        if (["home","games","music","stories"].indexOf(tabId) === idx) btn.classList.add("active");
      });
    }

    /* === Jogo das Letras === */
    const palavras = [
      {texto: "SOL", dica: "Brilha no c√©u"},
      {texto: "BOLA", dica: "Serve para brincar e rolar"},
      {texto: "GATO", dica: "Animal que mia"},
      {texto: "SAPO", dica: "Verde, pula e adora lagoas"},
      {texto: "PEIXE", dica: "Nada na √°gua"},
      {texto: "LUA", dica: "Aparece de noite"},
      {texto: "URSO", dica: "Animal grande e peludo"},
      {texto: "FLOR", dica: "Colorida, cheirosa e nasce no jardim"},
      {texto: "FADA", dica: "Tem asas e espalha p√≥ m√°gico"},
      {texto: "RATO", dica: "Gosta de queijo"},
      {texto: "PIPOLHO", dica: "Inseto na cabe√ßa"},
      {texto: "SABONETE", dica: "Usa-se para ficar limpo"},
      {texto: "VENTO", dica: "Sente mas n√£o v√™"},
      {texto: "LIVRO", dica: "Tem p√°ginas, letras e conta hist√≥rias"},
      {texto: "PIOLHO", dica: "Vida dif√≠cil, vive de cabe√ßa em cabe√ßa"}
    ];
    let palavraSorteada = null;
    let letrasDescobertas = [];
    let tentativasLetras = 0;
    let dicaMostrada = false;

    function iniciaJogoLetras() {
      document.getElementById("letras-mensagem").textContent = '';
      document.getElementById("dica-texto").textContent = '';
      dicaMostrada = false;
      tentativasLetras = 0;
      palavraSorteada = palavras[Math.floor(Math.random() * palavras.length)];
      letrasDescobertas = Array(palavraSorteada.texto.length).fill(null);
      renderLetrasJogo();
      renderLetrasBotoes();
    }

    function renderLetrasJogo() {
      const slots = palavraSorteada.texto.split('').map((letra, idx) => {
        return `<span class="letras-slot">${letrasDescobertas[idx] ? letra.toUpperCase() : '_'}</span>`;
      }).join('');
      document.getElementById("letras-jogo").innerHTML = `
        <div style="font-size:.94rem;margin-bottom:.7rem;">
         Palavras de ${palavraSorteada.texto.length} letras
        </div>${slots}`;
    }

    function renderLetrasBotoes() {
      const letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
      let botoes = '';
      for (let l of letras) {
        botoes += `<button class="letras-btn" onclick="tentaLetra('${l}')" ${letrasDescobertas.includes(l) ? 'disabled' : ''}>${l}</button>`;
      }
      document.getElementById("letras-botoes").innerHTML = botoes;
    }

    function tentaLetra(letra) {
      if (dicaMostrada === false) document.getElementById("dica-texto").textContent = '';
      let encontrou = false;
      palavraSorteada.texto.split('').forEach((l, idx) => {
        if (l === letra) {
          letrasDescobertas[idx] = letra;
          encontrou = true;
        }
      });
      renderLetrasJogo();
      renderLetrasBotoes();
      tentativasLetras++;
      if (!encontrou && tentativasLetras > palavraSorteada.texto.length + 2) {
        document.getElementById("letras-mensagem").innerHTML = `<span class="errado">üí® Acabaram suas tentativas!<br> A palavra era <b>${palavraSorteada.texto}</b></span>`;
        Array.from(document.getElementsByClassName("letras-btn")).forEach(btn => btn.disabled = true);
      } else if (letrasDescobertas.filter(Boolean).length === palavraSorteada.texto.length) {
        document.getElementById("letras-mensagem").innerHTML = `<span class="correto">üéâ Parab√©ns, voc√™ acertou!</span>`;
        Array.from(document.getElementsByClassName("letras-btn")).forEach(btn => btn.disabled = true);
      }
    }
    function mostrarDica() {
      if (!dicaMostrada && palavraSorteada) {
        document.getElementById("dica-texto").textContent = "Dica: " + palavraSorteada.dica;
        dicaMostrada = true;
      }
    }

    /* === Jogo das Continhas === */
    function geraConta() {
      const a = Math.floor(Math.random()*20)+1;
      const b = Math.floor(Math.random()*20)+1;
      const ops = ['+', '-', '*', '/'];
      const operacao = ops[Math.floor(Math.random() * ops.length)];
      let pergunta = '';
      let respostaCerta = 0;
      switch(operacao) {
        case '+':
          pergunta = `${a} + ${b}`;
          respostaCerta = a + b;
          break;
        case '-':
          let maior = Math.max(a,b);
          let menor = Math.min(a,b);
          pergunta = `${maior} - ${menor}`;
          respostaCerta = maior - menor;
          break;
        case '*':
          pergunta = `${a} x ${b}`;
          respostaCerta = a * b;
          break;
        case '/':
          // Ajustar para divis√£o exata
          respostaCerta = a;
          const dividido = a * b;
          pergunta = `${dividido} √∑ ${b}`;
          break;
      }
      // Embaralha op√ß√µes
      const opcoes = [respostaCerta];
      while (opcoes.length < 4) {
        let sug = respostaCerta + Math.floor(Math.random()*7) - 3;
        if (!opcoes.includes(sug) && sug >= 0) opcoes.push(sug);
      }
      return {
        pergunta,
        resposta: respostaCerta,
        opcoes: opcoes.sort(() => Math.random() - 0.5)
      };
    }

    let contaAtual = null;

    function novaConta() {
      document.getElementById("conta-mensagem").textContent = '';
      contaAtual = geraConta();
      document.getElementById("conta-pergunta").textContent = `Quanto √© ${contaAtual.pergunta}?`;
      document.getElementById("conta-opcoes").innerHTML = contaAtual.opcoes.map(
        n => `<button class="conta-btn" onclick="respondeConta(${n})">${n}</button>`
      ).join('');
    }

    function respondeConta(n) {
      if (n === contaAtual.resposta) {
        document.getElementById("conta-mensagem").innerHTML = `<span class="correto">üéâ Muito bem!</span>`;
      } else {
        document.getElementById("conta-mensagem").innerHTML = `<span class="errado">üòÖ Tente outra vez!</span>`;
      }
      Array.from(document.getElementById("conta-opcoes").children).forEach(btn=>btn.disabled=true);
    }

    /* === Conta personalizada === */
    function resolverContaPersonalizada() {
      const num1 = Number(document.getElementById("num1").value);
      const num2 = Number(document.getElementById("num2").value);
      const op = document.getElementById("operacao-personalizada").value;
      if (isNaN(num1) || isNaN(num2)) {
        alert("Por favor, insira n√∫meros v√°lidos.");
        return;
      }
      if (op === '/' && num2 === 0) {
        alert("Divis√£o por zero n√£o √© permitida.");
        return;
      }
      let resultado = 0;
      switch(op) {
        case '+': resultado = num1 + num2; break;
        case '-': resultado = num1 - num2; break;
        case '*': resultado = num1 * num2; break;
        case '/': resultado = (num1 / num2).toFixed(2); break;
      }
      document.getElementById("resultado-personalizado").textContent = `Resultado: ${resultado}`;
    }

    // Inicializa jogos ao carregar
    document.addEventListener("DOMContentLoaded", () => {
      iniciaJogoLetras();
      novaConta();
    });
  </script>
</body>
</html>
